<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Linux学习 | Hexo</title><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Linux常用指令关机&amp;重启命令shutdow -h now    或    halt	立即关机 shutdown -h 1 		1分钟过后关机 shutdown -r now  或·   reboot    立即重启 sync		把内存的数据同步到磁盘 &#x3D;&#x3D;注意 ：不管关机还是重启前，都运行一下sync，虽然现在系统会自动帮我们执行sync&#x3D;&#x3D; 用">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux学习">
<meta property="og:url" content="http://example.com/2022/09/09/Linux%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Linux常用指令关机&amp;重启命令shutdow -h now    或    halt	立即关机 shutdown -h 1 		1分钟过后关机 shutdown -r now  或·   reboot    立即重启 sync		把内存的数据同步到磁盘 &#x3D;&#x3D;注意 ：不管关机还是重启前，都运行一下sync，虽然现在系统会自动帮我们执行sync&#x3D;&#x3D; 用">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/butterfly-icon.png">
<meta property="article:published_time" content="2022-09-09T12:45:02.000Z">
<meta property="article:modified_time" content="2022-09-09T12:45:19.829Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/butterfly-icon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/09/09/Linux%E5%AD%A6%E4%B9%A0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        if (name && globalFn[key][name]) return
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux学习',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-09-09 20:45:19'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Hexo</span></a><a class="nav-page-title" href="/"><span class="site-name">Linux学习</span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">Linux学习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-09-09T12:45:02.000Z" title="Created 2022-09-09 20:45:02">2022-09-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-09-09T12:45:19.829Z" title="Updated 2022-09-09 20:45:19">2022-09-09</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Linux常用指令"><a href="#Linux常用指令" class="headerlink" title="Linux常用指令"></a>Linux常用指令</h1><h2 id="关机-重启命令"><a href="#关机-重启命令" class="headerlink" title="关机&amp;重启命令"></a>关机&amp;重启命令</h2><p><strong>shutdow -h now</strong>    或    <strong>halt</strong>	立即关机</p>
<p><strong>shutdown -h 1</strong> 		1分钟过后关机</p>
<p><strong>shutdown -r now</strong>  或·   reboot    <strong>立即重启</strong></p>
<p><strong>sync</strong>		把内存的数据同步到磁盘</p>
<p>&#x3D;&#x3D;注意 ：不管关机还是重启前，都运行一下sync，虽然现在系统会自动帮我们执行sync&#x3D;&#x3D;</p>
<h2 id="用户登录与退出"><a href="#用户登录与退出" class="headerlink" title="用户登录与退出"></a>用户登录与退出</h2><ul>
<li><strong>“logout”</strong> 退出用户（注意logout不能在图形级别使用，只能在运行级别3有效）</li>
</ul>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h3 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h3><ul>
<li><p><strong>useradd + 用户名</strong>  默认在&#x2F;home目录创建与用户名同名的家目录</p>
</li>
<li><p><strong>useradd -d 指定目录 用户名</strong>    指定家目录</p>
</li>
</ul>
<h3 id="指定-修改密码"><a href="#指定-修改密码" class="headerlink" title="指定&#x2F;修改密码"></a>指定&#x2F;修改密码</h3><ul>
<li><strong>passwd 用户名</strong>      给指定用户设置密码</li>
</ul>
<h3 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h3><ul>
<li><strong>userdel 用户名</strong> 	删除用户但保留家目录</li>
<li><strong>userdel -r 用户名</strong> 删除用户及其家目录</li>
</ul>
<h3 id="查询用户信息"><a href="#查询用户信息" class="headerlink" title="查询用户信息"></a>查询用户信息</h3><ul>
<li><strong>id 用户名</strong></li>
</ul>
<h3 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h3><ul>
<li><p><strong>su - 用户名</strong> </p>
<p>&#x3D;&#x3D;低权限用户切换高权限用户要密码，反之不用&#x3D;&#x3D;</p>
<p>登录尽量少用root账户</p>
<p>可以登录普通用户，然后使用**”su - 用户名”**来切换其他用户或者root用户</p>
<p>在登录用户1后，切换用户2，执行logout会退回用户1</p>
</li>
</ul>
<h3 id="查看当前登录用户"><a href="#查看当前登录用户" class="headerlink" title="查看当前登录用户"></a>查看当前登录用户</h3><ul>
<li><strong>whoami &#x2F; who am i</strong></li>
</ul>
<p>​	&#x3D;&#x3D;查看的是当前登录的用户，如果切换用户，显示的还是第一次登录的用户&#x3D;&#x3D;</p>
<h2 id="运行级别"><a href="#运行级别" class="headerlink" title="运行级别"></a>运行级别</h2><p><strong>0：关机</strong></p>
<p><strong>1：单用户（找回丢失密码）</strong></p>
<p><strong>2：多用户状态没有网络服务</strong></p>
<p><strong>3：多用户状态有网络服务</strong></p>
<p><strong>4：系统未使用保留给用户</strong></p>
<p><strong>5：图形界面</strong></p>
<p><strong>6：系统重启</strong></p>
<p>常用的运行级别是3和5，也可以指定默认运行级别</p>
<ul>
<li><p><strong>init 0~6</strong> 切换不同运行级别</p>
<p>例如init 3切换我们常见命令行模式，init 5切换到图形化界面</p>
</li>
<li><p><strong>systemctl get-default</strong> 查看系统默认运行级别</p>
</li>
<li><p><strong>systemctl set-default xxx.target</strong> 设置系统默认运行级别</p>
<p>&#x3D;&#x3D;（graphical.target为5级别，multi-user.target为3级别）&#x3D;&#x3D;</p>
</li>
</ul>
<h2 id="用户目录指令"><a href="#用户目录指令" class="headerlink" title="用户目录指令"></a>用户目录指令</h2><ul>
<li><p><strong>pwd</strong> 显示当前工作目录的绝对路径</p>
</li>
<li><p><strong>ls  [选项]  [目录或者文件]</strong>   显示当前目录下的所有文件或目录</p>
</li>
</ul>
<p>常用选项</p>
<table>
<thead>
<tr>
<th>-a</th>
<th>显示当前目录下所有文件和目录，包括隐藏的（linux的隐藏文件是以.开头的）</th>
</tr>
</thead>
<tbody><tr>
<td><strong>-l</strong></td>
<td><strong>以列表的形式显示信息</strong></td>
</tr>
</tbody></table>
<ul>
<li><p><strong>cd [目录&#x2F;参数]</strong>  切换目录</p>
<p>cd ~ 或 cd  回到自己家目录</p>
<p>cd .. 回到上一级目录</p>
</li>
<li><p><strong>mkdir  目录</strong>  创建单级目录</p>
<p>-p 创建多级目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /home/my/my1</span><br></pre></td></tr></table></figure>


</li>
<li><p><strong>rmdir 目录</strong>  删除指定目录</p>
<p>&#x3D;&#x3D;注意rmdir是删除空目录，要是目录下有文件或者子文件夹，则要使用rm -rf&#x3D;&#x3D;</p>
</li>
<li><p><strong>touch 文件名</strong> 创建一个空文件</p>
</li>
<li><p><strong>cp  源文件&#x2F;目录  目标目录</strong> 拷贝文件到指定目录</p>
<p>**cp  -r  源目录  目标目录 ** 拷贝目录到指定目录</p>
<p>   将cp改为\cp，会强制覆盖不提示</p>
</li>
<li><p><strong>rm 目录&#x2F;文件</strong>  删除目录或文件</p>
<p>rm -r 目录	递归删除整个文件夹</p>
<p>rm -f 目录 	强制删除不提示</p>
</li>
<li><p><strong>mv  文件&#x2F;目录  目录</strong>      移动文件或目录</p>
<p>在同一个文件夹下</p>
<p><strong>mv 旧文件 新文件</strong>    重命名</p>
</li>
<li><p><strong>cat 文件名</strong>	查看文件</p>
<p><strong>cat -n 文件名</strong> 显示行号</p>
<p>&#x3D;&#x3D;cat只能查看文件，不能修改文件，一般会带上管道命令 |  和more命令&#x3D;&#x3D;</p>
<p>因为cat会显示全部内容，一般用于小文件，more可以分页显示，故一般使用	<strong>cat -n 文件名 | more</strong></p>
<p>管道命令 | 负责将前面指令的结果传给后面指令</p>
</li>
<li><p><strong>more 文件名</strong>  查看文件内容</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>空格</td>
<td>下翻一页</td>
</tr>
<tr>
<td>enter</td>
<td>下翻一行</td>
</tr>
<tr>
<td>q</td>
<td>立即离开more，不再显示文本</td>
</tr>
<tr>
<td>ctrl+F</td>
<td>向下滚动一屏</td>
</tr>
<tr>
<td>ctrl+B</td>
<td>返回上一屏</td>
</tr>
<tr>
<td>&#x3D;</td>
<td>输出当前行号</td>
</tr>
<tr>
<td>:f</td>
<td>输出文件名和当前行号</td>
</tr>
</tbody></table>
</li>
<li><p><strong>less 文件名</strong>	分屏查看文件内容，与more类似，比more更加强大，它不是加载所有内容，而是显示的时候才加载</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>空格</td>
<td>下翻一页</td>
</tr>
<tr>
<td>pagedown</td>
<td>下翻一页</td>
</tr>
<tr>
<td>pageup</td>
<td>上翻</td>
</tr>
<tr>
<td>&#x2F;字符串</td>
<td>向下寻找字符串，n：向下查找，N：向上查找</td>
</tr>
<tr>
<td>?字符串</td>
<td>向下寻找字符串，n：向上查找，N：向下查找</td>
</tr>
<tr>
<td>q</td>
<td>退出</td>
</tr>
</tbody></table>
</li>
<li><p><strong>echo 内容</strong>   输出内容到控制台</p>
<p>例如</p>
<p>echo hello 输出hello到控制台</p>
<p>echo $PATH  输出环境变量</p>
<p>echo $HOSTNAME 输出主机名</p>
</li>
<li><p><strong>head 文件</strong>	显示文件开头部分，默认10行</p>
<p><strong>head -n 文件</strong>	显示头部n行</p>
</li>
<li><p>**tail 文件	** 显示文件末尾，默认10行</p>
<p>**tail -n 文件	** 显示末尾n行</p>
<p>**tail -f 文件	** 占有终端，并监听文件末尾，如果有内容写入，就显示，可以用来监听日志</p>
</li>
<li><p><strong>&gt;输出重定向指令 与 &gt;&gt; 追加指令</strong></p>
<p>例如</p>
<p>ls -l &gt; 文件		 将列表内容写入文件</p>
<p>cat 文件1 &gt; 文件2	将文件1内容写入文件2&#x3D;&#x3D;（可以用来复制内容）&#x3D;&#x3D;</p>
<p>echo 内容 &gt;&gt; 文件	将内容追加进文件里</p>
</li>
<li><p><strong>ln -s 源文件&#x2F;目录 软连接名</strong>  类似window的快捷方式，存放了链接其他文件的路径</p>
<p>例 ln  -s  &#x2F;root&#x2F;  &#x2F;home&#x2F;myroot</p>
<p>删除rm myroot</p>
</li>
<li><p><strong>history</strong>	查看历史指令</p>
<p><strong>history n</strong>	查看最近使用的n条指令</p>
<p><strong>!n</strong> 执行第n条历史指令</p>
</li>
</ul>
<h2 id="日期类指令"><a href="#日期类指令" class="headerlink" title="日期类指令"></a>日期类指令</h2><ul>
<li><p><strong>date</strong> 显示日期</p>
<ul>
<li><strong>date</strong> 显示当前日期</li>
<li><strong>date  +%Y</strong>  显示当前年份&#x3D;&#x3D;(注意+号要加上)&#x3D;&#x3D;</li>
<li><strong>date  +%m</strong> 显示当前月份</li>
<li><strong>date  +%d</strong> 显示当前是哪天</li>
<li><strong>date  “+%Y-%m-%d %H:%M:%S”</strong> 显示按指定格式字符串显示日期，注意字母不能改，前面的+号也要加</li>
</ul>
<p><strong>date -s 日期</strong>  设置日期</p>
<p>​	例如date -s “2023-10-1 20:10:03”</p>
</li>
<li><p><strong>cal</strong> 显示当前月日历</p>
<ul>
<li><strong>cal  年份</strong> 显示指定年份的所有日历</li>
</ul>
</li>
</ul>
<h2 id="搜索查找指令"><a href="#搜索查找指令" class="headerlink" title="搜索查找指令"></a>搜索查找指令</h2><ul>
<li><p><strong>find  [范围]  [选项]  文件</strong> 查找文件</p>
<p>选项</p>
<p>-name  按照文件名查找	例如 find  &#x2F;home  -name  hello.txt</p>
<p>-user	按照属于指定用户的文件  例如 find  &#x2F;home  -user  root</p>
<p>-size	按照指定文件大小查找(+大于，-小于，不写默认等于)  例如 find  &#x2F;home  -size  +200M</p>
</li>
<li><p><strong>grep 查找内容  文件</strong>   在文件中过滤查找内容</p>
<p><strong>gerp -n 内容 文件</strong> 显示匹配行号</p>
<p><strong>gerp  -i  内容  文件</strong> 忽略大小写</p>
</li>
</ul>
<h2 id="压缩与解压指令"><a href="#压缩与解压指令" class="headerlink" title="压缩与解压指令"></a>压缩与解压指令</h2><ul>
<li><p><strong>gzip&#x2F;gunzip</strong></p>
<ul>
<li><strong>gzip  文件</strong>   压缩文件，只能压缩为.gz文件(源文件会不见)</li>
<li><strong>gunzip  xx.gz</strong>   解压</li>
</ul>
</li>
<li><p><strong>zip&#x2F;unzip</strong></p>
<ul>
<li><strong>zip  压缩名.zip  要压缩的文件</strong>  压缩文件</li>
<li><strong>zip  -r  压缩名.zip  要压缩的文件夹</strong>  压缩文件夹</li>
<li><strong>unzip  xx.zip</strong> 解压到当前目录</li>
<li><strong>unzip  -d  目录  xx.zip</strong> 解压到指定目录</li>
</ul>
</li>
<li><p><strong>tar</strong> 	打包指令，打包后的文件是.tar.gz的文件</p>
<p><strong>tar  -zcvf   xx.tar.gz   打包的内容</strong>  打包并压缩</p>
<p><strong>tar  -zxcf   xx.tar.gz</strong>  解包并解压</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-z</td>
<td>以gzip&#x2F;gunzip方式压缩或解压</td>
</tr>
<tr>
<td>-x</td>
<td>解包.tar文件</td>
</tr>
<tr>
<td>-c</td>
<td>打包.tar文件</td>
</tr>
<tr>
<td>-v</td>
<td>显示详情</td>
</tr>
<tr>
<td>-f</td>
<td>指定压缩后的文件名</td>
</tr>
</tbody></table>
</li>
</ul>
<h2 id="Linux组"><a href="#Linux组" class="headerlink" title="Linux组"></a>Linux组</h2><h3 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a>用户组</h3><p>类似角色，系统可以对有共性&#x2F;权限的多个用户进行同一管理</p>
<p>每个用户都属于一个组，默认是与用户同名的组</p>
<p>每个文件都有所有者，默认是创建者所有，文件也有组，默认是创建者所在组。</p>
<p><strong>新加组</strong></p>
<ul>
<li><strong>groupadd 组名</strong></li>
</ul>
<p><strong>删除组</strong></p>
<ul>
<li><strong>groupdel 组名</strong></li>
</ul>
<p><strong>添加用户时直接加上组</strong></p>
<ul>
<li><p><strong>useradd -g 用户组 用户名</strong></p>
<p>&#x3D;&#x3D;当创建用户时没有指定组，系统会自动创建与用户名同名的一个组，并将该用户分配到此组&#x3D;&#x3D;</p>
</li>
</ul>
<p><strong>修改用户的组</strong></p>
<ul>
<li><strong>usermod -g 用户组 用户名</strong></li>
</ul>
<p><strong>使用 ll 或 ls -l 可以看文件所在组</strong></p>
<ul>
<li><strong>chown  用户名  文件名</strong> 	修改文件所有者</li>
<li><strong>chown -R 用户名 目录</strong>      修改目录所有者</li>
<li><strong>chgrp  组名  文件</strong>   修改文件所在组</li>
<li><strong>chgrp  组名  目录</strong>   修改目录所在组</li>
</ul>
<h2 id="rwx权限"><a href="#rwx权限" class="headerlink" title="_rwx权限"></a>_rwx权限</h2><p>假如ls -l显示内容如下</p>
<p>​	&#x3D;&#x3D;drwxr-xr-x   6 root root  4096 3月  18 19:56 boot&#x3D;&#x3D;</p>
<p><strong>0-9位说明</strong></p>
<ul>
<li>第0位确定文件类型(d,-,l,c,b)<ul>
<li>l是链接，相当于windows的快捷方式</li>
<li>d是目录</li>
<li>c是字符设备文件，鼠标，键盘等</li>
<li>b是块设备，如硬盘</li>
</ul>
</li>
<li>第1-3位确定该文件所有者拥有该文件的权限</li>
<li>第4-6位确定该文件所属组的用户拥有该文件的权限</li>
<li>第7-9位确定其他组的用户对该文件的权限</li>
</ul>
<p><strong>其他说明</strong></p>
<p>​	6    如果是文件：硬连接数 | 如果是目录：子目录数</p>
<p>​	root 用户</p>
<p>​	root 组</p>
<p>​	4096 大小(字节)</p>
<p>​	3月18 19:56 文件最后修改日期</p>
<p>​	boot 文件名</p>
<h3 id="rwx权限作用到文件"><a href="#rwx权限作用到文件" class="headerlink" title="rwx权限作用到文件"></a>rwx权限作用到文件</h3><ul>
<li><p>r代表可读</p>
</li>
<li><p>w代表可以修改，&#x3D;&#x3D;但不代表可以删除该文件，删除一个文件的前提条件是对该文件所在的目录有w权限&#x3D;&#x3D;</p>
</li>
<li><p>x代表可以被执行</p>
</li>
</ul>
<h3 id="rwx权限作用到目录"><a href="#rwx权限作用到目录" class="headerlink" title="rwx权限作用到目录"></a>rwx权限作用到目录</h3><ul>
<li>r代表可读，ls查看目录内容</li>
<li>w代表可修改，对目录内创建+删除+重命名</li>
<li>x代表可以进入目录</li>
</ul>
<h3 id="修改权限"><a href="#修改权限" class="headerlink" title="修改权限"></a>修改权限</h3><p><strong>第一种</strong></p>
<p>​	<strong>chmod u&#x3D;rwx,g&#x3D;rx,o&#x3D;x 文件&#x2F;目录</strong>（u为所有者，g为所在组，o为其他组）</p>
<p>​	<strong>chmod u+w,a-w 文件&#x2F;目录</strong>（+为添加权限，-为去除权限）</p>
<p><strong>第二种</strong></p>
<p>​	r&#x3D;4,w&#x3D;2,x&#x3D;1，这样用0-7可以表示rwx所有权限组合</p>
<p>​	<strong>chmod 751 文件&#x2F;目录</strong>（7&#x3D;rwx,5&#x3D;rx,1&#x3D;x）</p>
<h2 id="crond任务调度"><a href="#crond任务调度" class="headerlink" title="crond任务调度"></a>crond任务调度</h2><p>&#x3D;&#x3D;用于进行定时任务调度&#x3D;&#x3D;</p>
<p><strong>crontab [选项]</strong></p>
<table>
<thead>
<tr>
<th>-e</th>
<th>编辑crontab定时任务</th>
</tr>
</thead>
<tbody><tr>
<td>-l</td>
<td>查询crontab任务</td>
</tr>
<tr>
<td>-r</td>
<td>删除当前用户所有的crontab任务</td>
</tr>
</tbody></table>
<p>例：每一分钟将日期写入&#x2F;tmp&#x2F;to.txt</p>
<p>输入<strong>crontab -e</strong>，进入命令模式</p>
<p>输入 &#x3D;&#x3D;*&#x2F;1 * * * * date &gt; &#x2F;tmp&#x2F;to.txt&#x3D;&#x3D;</p>
<p>按ESC，:wq保存退出</p>
<h3 id="crond时间规则"><a href="#crond时间规则" class="headerlink" title="crond时间规则"></a>crond时间规则</h3><p>5个占位符说明（分时日月周）</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>第一个*</td>
<td>一小时中的第几分钟</td>
<td>0-59</td>
</tr>
<tr>
<td>第二个*</td>
<td>一天中的第几个小时</td>
<td>0-23</td>
</tr>
<tr>
<td>第三个*</td>
<td>一个月中的第几天</td>
<td>0-31</td>
</tr>
<tr>
<td>第四个*</td>
<td>一年中的第几个月</td>
<td>1-12</td>
</tr>
<tr>
<td>第五个*</td>
<td>一周中的星期几</td>
<td>0-7（&#x3D;&#x3D;0和7都代表星期日&#x3D;&#x3D;）</td>
</tr>
</tbody></table>
<p><strong>特殊符号</strong></p>
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>代表任何时间，如上面表</td>
</tr>
<tr>
<td>,</td>
<td>代表不连续时间。比如0 &#x3D;&#x3D;8,12,16&#x3D;&#x3D;  * * *  表示每天8点，12点，16点执行</td>
</tr>
<tr>
<td>-</td>
<td>代表连续时间。比如0 5 * * 1-6 表示周一到周六5点执行</td>
</tr>
<tr>
<td>*&#x2F;n</td>
<td>代表每隔多久执行一次。比如 *&#x2F;10 * * * * 代表每隔10分钟执行</td>
</tr>
</tbody></table>
<p>例</p>
<table>
<thead>
<tr>
<th>时间</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>45 22 * * *</td>
<td>在22点45分执行</td>
</tr>
<tr>
<td>0 17 * * 1</td>
<td>每周一的17点执行</td>
</tr>
<tr>
<td>0 5 1,15 * *</td>
<td>每月1号和15号的5点执行</td>
</tr>
<tr>
<td>40 4 * * 1-5</td>
<td>每周一到周五4点40分执行</td>
</tr>
<tr>
<td>*&#x2F;10 4 * * *</td>
<td>每天4点，每隔10分钟执行</td>
</tr>
<tr>
<td>0 0 1,15 * 1</td>
<td>每月1号和15号且是周一的0点执行（最好不要这么写）</td>
</tr>
</tbody></table>
<h2 id="at任务调度"><a href="#at任务调度" class="headerlink" title="at任务调度"></a>at任务调度</h2><p>at是一次性定时任务调度，执行完后就不再执行了。</p>
<p>&#x3D;&#x3D;在使用at命令是，一定保证atd进程的启动，可以使用ps -ef | grep atd&#x3D;&#x3D;</p>
<p><strong>at  [选项]  [时间]</strong></p>
<p>ctrl + d 结束命令输入,输入2次</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-m</td>
<td>当指定任务执行后，将给用户发送邮件，即使没有标准输出</td>
</tr>
<tr>
<td>-I</td>
<td>atq的别名，查看系统执行的任务</td>
</tr>
<tr>
<td>-d</td>
<td>atrm的别名，删除指定编号的任务</td>
</tr>
<tr>
<td>-v</td>
<td>显示任务将被执行的时间</td>
</tr>
<tr>
<td>-c</td>
<td>打印任务内容到标准输出</td>
</tr>
<tr>
<td>-V</td>
<td>显示版本选项</td>
</tr>
<tr>
<td>-q &lt;队列&gt;</td>
<td>使用指定队列</td>
</tr>
<tr>
<td>-f &lt;文件&gt;</td>
<td>从指定文件读入任务</td>
</tr>
<tr>
<td>-t &lt;时间参数&gt;</td>
<td>以时间参数的形式提交要运行的任务</td>
</tr>
</tbody></table>
<h3 id="at时间定义"><a href="#at时间定义" class="headerlink" title="at时间定义"></a>at时间定义</h3><ul>
<li>以hh:mm形式，例如04:00</li>
<li>使用midnight,noon,teatime等模糊词语</li>
<li>采用12小时制，加入AM,PM,例如12PM</li>
<li>指定具体日期，格式month day(月 日) 或 mm&#x2F;dd&#x2F;yy(月&#x2F;日&#x2F;年) 或 dd.mm.yy(日.月.年)，&#x3D;&#x3D;指定日期必须在指定时间后面&#x3D;&#x3D;，例如04:00 2020-03-2</li>
<li>使用相对即使，格式 now + count time-units，，now为当前时间，time-units是时间单位，有minus分钟，hours小时，days天，weeks星期。count是数量。例如now + 5 minus 5分钟后执行，3PM + 2 days两天后下午3点执行</li>
<li>直接使用today今天，tomorrow明天 来指定</li>
</ul>
<p>例</p>
<p>两天后下午5点执行ll &#x2F;root&#x2F;    	at 5PM + 2 days ，回车 ，输入ll &#x2F;root&#x2F; ，连续两次ctrl+d退出</p>
<p>atq命令或at -l 			 查看要执行的任务</p>
<p>atrm 编号 或 at -d 编号  删除指定编号的任务</p>
<h2 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h2><p>Linux硬盘分为IDE硬盘和SCSI硬盘，目前常见的是SCSI硬盘</p>
<p>IDE硬盘，驱动标识符为 hdx~    x为盘号(a为基本盘，b为基本从属盘，c为辅助主盘，d为辅助从属盘)，~表示分区，前四个分区用1-4表示，为主分区，从5开始就是逻辑分区，例hda3表示第一个ide硬盘的第三个主分区</p>
<p>SCSI硬盘，标识符为 sdx~，表示与IDE一样</p>
<h3 id="查看所有设备挂载情况"><a href="#查看所有设备挂载情况" class="headerlink" title="查看所有设备挂载情况"></a>查看所有设备挂载情况</h3><p><strong>lsblk 或者lsblk -f</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">bash-4.2# lsblk</span><br><span class="line">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda      8:0    0   20G  0 disk </span><br><span class="line">├─sda1   8:1    0    1G  0 part /boot</span><br><span class="line">├─sda2   8:2    0    2G  0 part [SWAP]</span><br><span class="line">└─sda3   8:3    0   17G  0 part /</span><br><span class="line">sr0     11:0    1  4.4G  0 rom  /run/media/root/CentOS 7 x86_64</span><br><span class="line">或者</span><br><span class="line">bash-4.2# lsblk -f</span><br><span class="line">NAME   FSTYPE  LABEL           UUID                                 MOUNTPOINT</span><br><span class="line">sda                                                                 </span><br><span class="line">├─sda1 ext4                    a9ef3a7d-8cc0-4678-a146-d30877fb1372 /boot</span><br><span class="line">├─sda2 swap                    c4e57ada-a7a0-4dad-bc2f-dd12e06442f6 [SWAP]</span><br><span class="line">└─sda3 ext4                    9c0f7b2b-302a-4732-b67c-9071cb4e0d34 /</span><br><span class="line">sr0    iso9660 CentOS 7 x86_64 2020-11-04-11-36-43-00               /run/media/r</span><br></pre></td></tr></table></figure>

<h3 id="增加磁盘并分区"><a href="#增加磁盘并分区" class="headerlink" title="增加磁盘并分区"></a>增加磁盘并分区</h3><ul>
<li><p>为linux准备磁盘sdb</p>
</li>
<li><p>输入分区命令  fdisk &#x2F;dev&#x2F;sdb，因为所有的硬件都会对于在dev下的某个文件夹。然后进入下面操作</p>
<ul>
<li>开始分区输入n，新增分区，选择p，分区类型为主分区，选择分区号，1,表示分一个区，2表示分两个，其他类推，两次回车默认剩余全部空间。最后输入w写入分区并退出<ul>
<li>m 显示目录列表</li>
<li>p 显示磁盘分区</li>
<li>n 新增分区</li>
<li>d 删除分区</li>
<li>w 写入并退出</li>
</ul>
</li>
</ul>
</li>
<li><p>输入lsblk -f 发现sdb硬盘分区了sdb1，当还没有UUID，即没有格式化</p>
</li>
<li><p>格式化分区 mkfs -t ext4 &#x2F;dev&#x2F;sdb1</p>
</li>
<li><p>挂载到某一目录 mount  &#x2F;dev&#x2F;sdb1 + 目标目录，要是卸载则unmount &#x2F;dev&#x2F;sdb1</p>
</li>
<li><p>永久挂载，修改&#x2F;etc&#x2F;fstab实现，完成修改后执行mount -a生效</p>
</li>
</ul>
<h3 id="查看磁盘情况"><a href="#查看磁盘情况" class="headerlink" title="查看磁盘情况"></a>查看磁盘情况</h3><p><strong>df -h</strong></p>
<p>查看指定目录磁盘占用情况</p>
<p><strong>du -h &#x2F;目录</strong></p>
<p>-s 指定目录占用大小汇总</p>
<p>-h 代计量单位</p>
<p>-a 含文件</p>
<p>–max-depth&#x3D;n 子目录深度n</p>
<p>-c 列出明细同时，增加汇总值</p>
<h3 id="常用统计命令"><a href="#常用统计命令" class="headerlink" title="常用统计命令"></a>常用统计命令</h3><p>统计&#x2F;opt文件夹下文件的个数 ls -l &#x2F;opt | grep “^-“ | wc -l</p>
<p>统计&#x2F;opt文件夹下目录的个数 ls -l &#x2F;opt | grep “^d” | wc -l</p>
<p>统计&#x2F;opt文件夹下文件个数，包括子目录，ls -lR &#x2F;opt | grep “^-“ | wc -l</p>
<p>以树状显示目录 tree &#x2F;目录        要先安装yum install tree</p>
<h2 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h2><p>在vmware的虚拟网络编辑器，可以看到虚拟机的各个网卡情况，常用的是VMware8</p>
<p>查看Linux网络配置情况命令</p>
<p><strong>ifconfig</strong></p>
<h3 id="修改自己Linux为指定ip"><a href="#修改自己Linux为指定ip" class="headerlink" title="修改自己Linux为指定ip"></a>修改自己Linux为指定ip</h3><p>编辑 etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens33 ,按下面该</p>
<p>TYPE&#x3D;”Ethernet”<br>PROXY_METHOD&#x3D;”none”<br>BROWSER_ONLY&#x3D;”no”<br>BOOTPROTO&#x3D;”static” &#x2F;&#x2F;修改dhcp为静态的<br>DEFROUTE&#x3D;”yes”<br>IPV4_FAILURE_FATAL&#x3D;”no”<br>IPV6INIT&#x3D;”yes”<br>IPV6_AUTOCONF&#x3D;”yes”<br>IPV6_DEFROUTE&#x3D;”yes”<br>IPV6_FAILURE_FATAL&#x3D;”no”<br>IPV6_ADDR_GEN_MODE&#x3D;”stable-privacy”<br>NAME&#x3D;”ens33”<br>UUID&#x3D;”fccd75e1-2334-4c30-b869-cf6f4c9d7462”<br>DEVICE&#x3D;”ens33”<br>ONBOOT&#x3D;”yes”<br>IPADDR&#x3D;192.168.102.101 &#x2F;&#x2F;修改自己的ip，要与自己虚拟机网关同一网段<br>NETMASK&#x3D;255.255.255.0&#x2F;&#x2F;子网掩码<br>GATEWAY&#x3D;192.168.102.2&#x2F;&#x2F;配置网关，可以在VMware的虚拟网络编辑器查看VMware8的网关<br>DNS1&#x3D;119.29.29.29&#x2F;&#x2F;dns服务器</p>
<p><strong>Linux的host映射文件在&#x2F;etc&#x2F;hosts</strong></p>
<h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><h3 id="显示系统执行的进程"><a href="#显示系统执行的进程" class="headerlink" title="显示系统执行的进程"></a>显示系统执行的进程</h3><p>**ps **</p>
<p><strong>-a 显示当前终端的所有进程信息</strong></p>
<p><strong>-u 以用户格式显示进程信息</strong></p>
<p><strong>-x 显示后天进程运行的参数</strong></p>
<p><strong>-e 显示所有进程</strong></p>
<p><strong>-f全格式</strong></p>
<p>一般使用&#x3D;&#x3D;ps -aux&#x3D;&#x3D; 与&#x3D;&#x3D;ps -ef&#x3D;&#x3D;</p>
<p>例</p>
<p>bash-4.2# ps -aux<br>USER        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND<br>root          1  0.0  0.3 128420  7000 ?        Ss   20:49   0:01 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;systemd –switched-r<br>root          2  0.0  0.0      0     0 ?        S    20:49   0:00 [kthreadd]<br>root          4  0.0  0.0      0     0 ?        S&lt;   20:49   0:00 [kworker&#x2F;0:0H]<br>root          6  0.0  0.0      0     0 ?        S    20:49   0:00 [ksoftirqd&#x2F;0]</p>
<p><strong>USER用户名称，PID进程号，%CPU进程占用的cpu百分比，%MEM占用物理内存百分比</strong></p>
<p><strong>VSZ占用虚拟内存大小(KB)，RSS占用的物理内存大小(KB)，TTY终端名称，STAT进程状态</strong></p>
<p><strong>START进程启动时间，TIME进程使用CPU时间，COMMAND启动进程所用的命令和参数，如果过长会被截断显示</strong></p>
<p><strong>PPID为父进程</strong></p>
<h3 id="终止进程"><a href="#终止进程" class="headerlink" title="终止进程"></a>终止进程</h3><p><strong>kill  [选项]  进程号PID</strong> –通过进程号</p>
<p><strong>killall  进程名称</strong>  –通过进程名</p>
<p>常用选项</p>
<p>-9 ：表示强制停止</p>
<h3 id="查看进程树"><a href="#查看进程树" class="headerlink" title="查看进程树"></a>查看进程树</h3><p><strong>pstree</strong></p>
<p>-p 显示进程的pid</p>
<p>-u 显示进程的所属用户</p>
<h2 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h2><h3 id="service管理指令"><a href="#service管理指令" class="headerlink" title="service管理指令"></a>service管理指令</h3><p><strong>service  服务名  [start|stop|restart|reload|status]</strong></p>
<p>&#x3D;&#x3D;在CentOs7.0后，很多服务不在使用service，而是systemctl&#x3D;&#x3D;</p>
<p>service指令管理的服务可以 **ls &#x2F;etc&#x2F;init.d&#x2F;**查看</p>
<p>查看所有的系统服务  <strong>setup</strong> -&gt; 系统服务</p>
<h3 id="chkconfig指令"><a href="#chkconfig指令" class="headerlink" title="chkconfig指令"></a>chkconfig指令</h3><p>可以给服务的&#x3D;&#x3D;各个运行级别&#x3D;&#x3D;设置自 启动或关闭</p>
<p>chkconfig指令管理的服务可以 **ls &#x2F;etc&#x2F;init.d&#x2F;**查看</p>
<p>查看服务的自启动情况<strong>chkconfig –list   [|grep xxx]</strong></p>
<p>查看某个服务的自启动情况 <strong>chkconfig  服务名  –list</strong></p>
<p>设置自启动 <strong>chkconfig  –level  (0~6)  服务名  on&#x2F;off</strong></p>
<h3 id="systemctl指令"><a href="#systemctl指令" class="headerlink" title="systemctl指令"></a>systemctl指令</h3><p><strong>systemctl  [start|stop|restart|status]   服务名</strong></p>
<p>systemctl管理的服务在 ls  &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F; 查看</p>
<h4 id="systemctl设置服务自启动状态"><a href="#systemctl设置服务自启动状态" class="headerlink" title="systemctl设置服务自启动状态"></a>systemctl设置服务自启动状态</h4><p>&#x3D;&#x3D;centos7后，systemctl设置启动的运行级别默认是3和5&#x3D;&#x3D;</p>
<p><strong>systemctl  list-unit-files</strong> 查看服务开机启动状态</p>
<p><strong>systemctl enable  服务名</strong> 设置服务开机启动(永久性的)</p>
<p><strong>systemctl disable  服务名</strong> 关闭服务开机启动(永久性的)</p>
<p><strong>systemctl  is-enabled  服务名</strong>  查询某个服务是否是自启动</p>
<p>例</p>
<p>查看防火墙状态 systemctl  status  firewalld</p>
<p>关闭防火墙systemctl  stop  firewalld(暂时性的，开机后还会恢复原状态)</p>
<p>开启防火墙systemctl  start  firewalld(暂时性的，开机后还会恢复原状态)</p>
<h4 id="放行防火墙端口"><a href="#放行防火墙端口" class="headerlink" title="放行防火墙端口"></a>放行防火墙端口</h4><p>查看放行端口<strong>firewall-cmd  –list-ports</strong></p>
<p>打开端口：<strong>firewall-cmd  –permanent  -add-port&#x3D;端口号&#x2F;协议号</strong></p>
<p>关闭端口：<strong>firewall-cmd  –permanent  -remove-port&#x3D;端口号&#x2F;协议号</strong></p>
<p>关闭防火墙：<strong>systemctl stop firewalld.service</strong></p>
<p>重新载入才能生效：<strong>firewall-cmd  –reload</strong></p>
<p>查看端口是否开放：<strong>firewall-cmd  –query-port&#x3D;端口&#x2F;协议</strong></p>
<h2 id="动态监视进程"><a href="#动态监视进程" class="headerlink" title="动态监视进程"></a>动态监视进程</h2><p><strong>top [选项]</strong></p>
<p>-d 秒数       指定top命令每个几秒更新，默认3秒</p>
<p>-i				 使top不显示任何闲置或者僵死进程</p>
<p>-p				通过指定监控进程id来仅仅监控某个进程状态</p>
<p>&#x3D;&#x3D;top与ps不同之处，在意top在执行一段时间可以更新正在运行的进程&#x3D;&#x3D;</p>
<p>交互操作</p>
<p>P    –以CPU使用率排序，默认</p>
<p>M   –以内存使用率排序</p>
<p>N   –以PID排序</p>
<p>q    –退出top</p>
<p>u  然后输入用户   –查看此用户所执行的进程</p>
<p>k  然后输入PID  然后输入9(强制)   –终止进程</p>
<h2 id="监控网络状态"><a href="#监控网络状态" class="headerlink" title="监控网络状态"></a>监控网络状态</h2><p><strong>netstat [选项]</strong></p>
<p>-an  按一定顺序排列输出</p>
<p>-p  显示哪个进程在调用</p>
<p>一般都是用&#x3D;&#x3D;netstat -anp | more &#x2F; grep xxx&#x3D;&#x3D; </p>
<h2 id="rpm包管理"><a href="#rpm包管理" class="headerlink" title="rpm包管理"></a>rpm包管理</h2><p>就是Linux的软件包(拓展名.rpm)</p>
<h3 id="rpm查询指令"><a href="#rpm查询指令" class="headerlink" title="rpm查询指令"></a>rpm查询指令</h3><p><strong>rpm -qa</strong> 查询所有的rpm包</p>
<p><strong>rpm -q  软件包名</strong> 查询软件包是否安装</p>
<p>​	例rpm -q firefox</p>
<p><strong>rpm -qi 软件包名</strong> 查询软件包详情</p>
<p><strong>rpm -ql 软件包名</strong> 查询软件包的文件</p>
<p><strong>rpm -qf 文件全路径名</strong> 查询文件所属哪个软件包</p>
<h3 id="rpm删除指令"><a href="#rpm删除指令" class="headerlink" title="rpm删除指令"></a>rpm删除指令</h3><p><strong>rpm -e  软件包名</strong></p>
<p>&#x3D;&#x3D;如果其他软件包依赖要卸载的软件包，卸载时会产生错误信息。当然可以加上–nodeps强制删除&#x3D;&#x3D;</p>
<p><strong>rpm -e –nodeps 软件包名</strong> 强制删除</p>
<h3 id="rpm安装指令"><a href="#rpm安装指令" class="headerlink" title="rpm安装指令"></a>rpm安装指令</h3><p><strong>rpm -ivh 软件包名</strong></p>
<p>-i  &#x3D; install 安装</p>
<p>-v &#x3D; verbose提示</p>
<p>-h &#x3D; hash 进度条</p>
<h2 id="yum包管理"><a href="#yum包管理" class="headerlink" title="yum包管理"></a>yum包管理</h2><p>yum是一个shell前端软件包管理器，基于rpm包管理，能够从指定的服务器自动下载rpm包并且安装，可以自动处理依赖关系，一次安装所有依赖的软件包</p>
<p><strong>yum list | grep xxx</strong> 查询服务器是否有软件包</p>
<p><strong>yum install 软件包名</strong>  安装软件包</p>
<h2 id="安装jdk1-8"><a href="#安装jdk1-8" class="headerlink" title="安装jdk1.8"></a>安装jdk1.8</h2><p>准备jdk-8u321-linux-x64.tar.gz包</p>
<p>mkdir &#x2F;opt&#x2F;jdk  创建一个放包的文件夹</p>
<p>通过xftp传输包</p>
<p>进入路径解压 tar -zxvf dk-8u321-linux-x64.tar.gz </p>
<p>得到一个文件夹jdk1.8.0_321</p>
<p>mkdir &#x2F;usr&#x2F;local&#x2F;java 创建目录(用户安装的软件都放在&#x2F;usr&#x2F;local中)</p>
<p>mv  jdk1.8.0_321  &#x2F;usr&#x2F;local&#x2F;java&#x2F;   将jdk移动到目录</p>
<p>配置环境变量vim  &#x2F;etc&#x2F;profile,添加以下两句</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/java/jdk1.8.0_321</span><br><span class="line"></span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure>

<p>source &#x2F;etc&#x2F;profile  使文件生效</p>
<p>在其他路径输入java -version 查看是否成功</p>
<h2 id="安装tomcat"><a href="#安装tomcat" class="headerlink" title="安装tomcat"></a>安装tomcat</h2><p>进入<a target="_blank" rel="noopener" href="https://archive.apache.org/dist/tomcat/%EF%BC%8C%E9%80%89%E6%8B%A9%E7%89%88%E6%9C%AC%EF%BC%8C%E8%BF%9B%E5%85%A5bin/%EF%BC%8C%E4%B8%8B%E8%BD%BDtar.gz">https://archive.apache.org/dist/tomcat/，选择版本，进入bin/，下载tar.gz</a>  扩展名的文件</p>
<p>mkdir  &#x2F;opt&#x2F;tomcat 存放tomcat压缩包</p>
<p>通过xftp传输，然后tar -zxvf xxx解压</p>
<p>mkdir &#x2F;usr&#x2F;local&#x2F;tomcat创建目录</p>
<p>mv apache-tomcat-8.5.38 &#x2F;usr&#x2F;local&#x2F;tomcat&#x2F; 将tomcat移动到目录</p>
<p>进入bin，输入.&#x2F;startup.sh运行</p>
<p>查看网页8080是否可以访问</p>
<h2 id="安装mysql5-7"><a href="#安装mysql5-7" class="headerlink" title="安装mysql5.7"></a>安装mysql5.7</h2><h3 id="下载压缩包"><a href="#下载压缩包" class="headerlink" title="下载压缩包"></a>下载压缩包</h3><p>mkdir &#x2F;opt&#x2F;mysql&#x2F; 创建文件夹放压缩包</p>
<p>tar -xvf  要解压的包</p>
<p>可以输入 wget <a target="_blank" rel="noopener" href="http://dev.mysql.com/get/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar">http://dev.mysql.com/get/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar</a> 下载</p>
<p>也可以在window下载，然后传输，链接如下</p>
<p><a target="_blank" rel="noopener" href="https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar">https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar</a></p>
<h3 id="删除自带数据库"><a href="#删除自带数据库" class="headerlink" title="删除自带数据库"></a>删除自带数据库</h3><p>centos7.6自带mysql数据库是mariadb，要先删掉</p>
<p>运行rpm -qa | grep mari，查询相关的安装包</p>
<p>然后rpm -e –nodeps xxx 删除对应的几个安装包</p>
<h3 id="安装mysql需要的包"><a href="#安装mysql需要的包" class="headerlink" title="安装mysql需要的包"></a>安装mysql需要的包</h3><p>依次运行下面语句，文件已经在过程解压出来的</p>
<p>rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm </p>
<p>rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm </p>
<p>rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm</p>
<p>rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm</p>
<p>&#x3D;&#x3D;如果安装失败，看看是否删除干净mariadb&#x3D;&#x3D;</p>
<h3 id="运行mysql"><a href="#运行mysql" class="headerlink" title="运行mysql"></a>运行mysql</h3><p>运行systemctl start mysqld.service,启动mysql</p>
<h3 id="安装目录查看"><a href="#安装目录查看" class="headerlink" title="安装目录查看"></a>安装目录查看</h3><p>运行whereis mysql可以知道mysql安装在那个目录</p>
<h3 id="设置root密码，"><a href="#设置root密码，" class="headerlink" title="设置root密码，"></a>设置root密码，</h3><p>mysql自动给root用户随机密码，运行grep “password” &#x2F;var&#x2F;log&#x2F;mysqld.log可以看到当前密码</p>
<p>例：2022-04-21T02:12:52.586250Z 1 [Note] A temporary password is generated for root@localhost: &#x3D;&#x3D;ul_NjKrls9Xb&#x3D;&#x3D;</p>
<p>输入mysql -u root -p 回车，然后输入系统生成的密码，进入mysql</p>
<p>设置密码策略和最小长度（当然还有其他检查方式，可以上网查询）</p>
<p>set global validate_password_policy&#x3D;0</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0 or LOW     只验证长度</span><br><span class="line">1 or MEDIUM  验证长度、数字、大小写、特殊字符</span><br><span class="line">2 or STRONG  验证长度、数字、大小写、特殊字符、字典文件</span><br></pre></td></tr></table></figure>

<p>set global validate_password_length&#x3D;1</p>
<p>set password for ‘root‘@’localhost’ &#x3D; password(‘123456’);&#x2F;&#x2F;设置密码</p>
<p>运行flush privilehes;生效</p>
<h2 id="shell编程"><a href="#shell编程" class="headerlink" title="shell编程"></a>shell编程</h2><p>shell是一个命令行解释器，它用户提供一个向linux内核发送请求以便运行程序的界面系统程序，用户可以用shell来启动，挂起，停止甚至编写一些程序。shell不止一种，在国内常用的是bash</p>
<h3 id="脚本执行方式"><a href="#脚本执行方式" class="headerlink" title="脚本执行方式"></a>脚本执行方式</h3><p>&#x3D;&#x3D;编写脚本格式要求&#x3D;&#x3D;</p>
<ul>
<li>脚本编写时要以#!&#x2F;bin&#x2F;bash开头</li>
<li>脚本需要有可执行权限</li>
</ul>
<p>脚本约定俗成以.sh为扩展名</p>
<p>例,创建hello.sh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;jsdfasdgsdgsdag&quot;</span></span><br></pre></td></tr></table></figure>



<p><strong>执行脚本</strong></p>
<p>方法一：首先要赋予脚本文件的x权限，然后用 .&#x2F; + 脚本 执行</p>
<p>方法二：不用x权限，直接 sh + 脚本 执行</p>
<h3 id="shell的变量"><a href="#shell的变量" class="headerlink" title="shell的变量"></a>shell的变量</h3><p>linux的shell变量分为<strong>系统变量</strong>和<strong>用户自定义变量</strong></p>
<h4 id="系统变量："><a href="#系统变量：" class="headerlink" title="系统变量："></a>系统变量：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$HOME,$PWD,$USER等等</span><br></pre></td></tr></table></figure>

<p>显示系统所有的系统变量：<strong>set</strong></p>
<h4 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h4><p>定义变量：变量名&#x3D;值 </p>
<p>撤销变量：unset 变量</p>
<p>声明静态变量：readonly 变量&#x3D;值，&#x3D;&#x3D;注意不能unset&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;赋值变量等号两边不要有空格，例A &#x3D; 100&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;变量一般以大写命名&#x3D;&#x3D;</p>
<p>&#x3D;&#x3D;变量名称跟其他语言一样，符合命名规范，可以以字母，数组，下划线组成，不能以数字开头&#x3D;&#x3D;</p>
<p>例</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">A=100</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$A</span>    <span class="comment">#会输出100</span></span><br><span class="line">A=1000</span><br><span class="line"><span class="built_in">echo</span> A=<span class="variable">$A</span>  <span class="comment">#会输出A=1000</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unset</span> A</span><br><span class="line"><span class="built_in">echo</span> A=<span class="variable">$A</span> <span class="comment">#输出A=</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">readonly</span> B=100</span><br><span class="line"><span class="built_in">echo</span> B=<span class="variable">$B</span> <span class="comment">#输出B=100</span></span><br><span class="line"><span class="built_in">unset</span> B <span class="comment">#执行到这行报错</span></span><br></pre></td></tr></table></figure>



<p>将命令返回值赋值给变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A=`<span class="built_in">date</span>`   <span class="comment">#输出2022年 04月 21日 星期四 11:19:23 CST</span></span><br><span class="line">或</span><br><span class="line">A=$(<span class="built_in">date</span>)</span><br></pre></td></tr></table></figure>



<p>注释</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 单行注释</span><br><span class="line">:&lt;&lt;!</span><br><span class="line">多行注释</span><br><span class="line">多行注释</span><br><span class="line">!</span><br></pre></td></tr></table></figure>



<h3 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h3><p>&#x3D;&#x3D;linux的环境变量配置文件在&#x2F;etc&#x2F;profire，在里面添加环境变量，然后生效，就可以在其他路径使用环境变量了&#x3D;&#x3D;</p>
<p><strong>export  变量名&#x3D;变量值</strong> 将shell变量输出为环境变量</p>
<p><strong>source 配置文件</strong>  让修改后的配置信息生效</p>
<p><strong>echo  $变量名</strong>   查询环境变量的值</p>
<h3 id="位置参数变量"><a href="#位置参数变量" class="headerlink" title="位置参数变量"></a>位置参数变量</h3><p>我们执行一个脚本时，可以携带参数，然后在脚本里面取得参数，类似于java的main(String[] ages)</p>
<h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><p>$n    ( n为数字，$0代表命令本身，$1-9代表第一到九个参数,十以上的参数需要用大括号${10} )</p>
<p>$*    (代表命令行中的全部参数，把所有参数看成一个整体)</p>
<p>$@   (也代表所有参数，不过把每个参数区分对待)</p>
<p>$#    (代表参数个数)</p>
<p>例 vim myshell.sh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;命令=<span class="variable">$0</span>  第一参数=<span class="variable">$1</span>  第二参数=<span class="variable">$2</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;所有参数 = $*&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;所有参数 = <span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;参数个数 = <span class="variable">$#</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>执行.&#x2F;myshell 100 200 300</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">命令=./myshell.sh  第一参数=100  第二参数=200</span><br><span class="line">所有参数 = 100 200 300</span><br><span class="line">所有参数 = 100 200 300</span><br><span class="line">参数个数 = 3</span><br></pre></td></tr></table></figure>



<h3 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h3><p>就是shell设计者事先定义好的变量，可以在shell脚本中直接使用</p>
<p><strong>$$</strong>  当前进程的进程号pid</p>
<p><strong>$!</strong>   后退运行的最后一个进程的进程号</p>
<p><strong>$?</strong> 最后一个执行的命令的返回状态，如果为0，则上一个命令执行成功</p>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>基本语法</p>
<p><strong>$((运算式)) 或 $[运算式]  或 expr  m + n</strong></p>
<p>&#x3D;&#x3D;注意expr运算符间要有空格，如果希望将expr的结果赋值某个变量，使用&#96;&#96;括起</p>
<p>**expr m - n ** 减</p>
<p><em><em>expr \</em>, &#x2F;, %</em>*  乘，除，取余</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#计算（2+3)*4的值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#使用$(())</span></span><br><span class="line">RES1=$(( (<span class="number">2</span> + <span class="number">3</span>) * <span class="number">4</span>))</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;res1 = <span class="variable">$RES1</span>&quot;</span>       输出res1 = 20</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用$[]</span></span><br><span class="line">RES2=$[(2 + 3) * 4]</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;res2 = <span class="variable">$RES2</span>&quot;</span>      输出res2 = 20</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用expr,记得要用``括起</span></span><br><span class="line">TEMP=`<span class="built_in">expr</span> 2 + 3`</span><br><span class="line">RES3=`<span class="built_in">expr</span> <span class="variable">$TEMP</span> \* 4`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;res3 = <span class="variable">$RES3</span>&quot;</span>    输出res3 = 20</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用expr不加空格</span></span><br><span class="line">RES4=`<span class="built_in">expr</span> 2+3`</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$RES4</span>&quot;</span>      输出2+3</span><br></pre></td></tr></table></figure>



<h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3><p><strong>if [ 条件 ]  then … elif [ 条件 ] then … else…fi</strong> &#x3D;&#x3D;注意中括号里面两侧要有空格&#x3D;&#x3D;</p>
<p>[ sdsdfa ] 非空返回true</p>
<p>[  ] 返回false</p>
<h4 id="判断条件"><a href="#判断条件" class="headerlink" title="判断条件"></a>判断条件</h4><ul>
<li>字符串比较 &#x3D;</li>
<li>两个整数比较<ul>
<li>-lt小于</li>
<li>-le小于等于</li>
<li>-eq等于</li>
<li>-gt大于</li>
<li>-ge大于等于</li>
<li>-ne不等于</li>
</ul>
</li>
<li>按照文件权限进行判断<ul>
<li>-r 有读的权限</li>
<li>-w有写的权限</li>
<li>-x有执行的权限</li>
</ul>
</li>
<li>按照文件类型进行判断<ul>
<li>-f 文件存在并且是一个常规文件</li>
<li>-e 文件存在</li>
<li>-d文件存在并且是个目录</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#判断ok是否等于ok</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;ok&quot;</span> = <span class="string">&quot;ok&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;equal&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#判断23是否大于等于22</span></span><br><span class="line"><span class="keyword">if</span> [ 23 -ge 22 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;yes&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#/root/aaa.txt是否存在</span></span><br><span class="line"><span class="keyword">if</span> [ -f /root/aaa.txt ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;存在&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;不存在&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#空为false</span></span><br><span class="line"><span class="keyword">if</span> [  ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;true&quot;</span></span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;false&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#非空为true</span></span><br><span class="line"><span class="keyword">if</span> [ sdafasdf ]</span><br><span class="line"><span class="keyword">then</span> </span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;true&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	</span><br></pre></td></tr></table></figure>



<h3 id="流程控制case"><a href="#流程控制case" class="headerlink" title="流程控制case"></a>流程控制case</h3><p><strong>case $变量 in</strong></p>
<p><strong>“值1”)</strong></p>
<p>​	<strong>程序1</strong></p>
<p><strong>;;</strong></p>
<p><strong>“值2”)</strong></p>
<p>​	<strong>程序2</strong></p>
<p><strong>;;</strong></p>
<p>***)**</p>
<p>​	<strong>如果变量都不是以上值，执行此程序</strong></p>
<p><strong>;;</strong></p>
<p><strong>esac</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#当命令行参数是1是，输出周一，是2,时输出周二，其他情况输出other</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line"><span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;周一&quot;</span></span><br><span class="line">;;</span><br><span class="line"><span class="string">&quot;2&quot;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;周二&quot;</span></span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;other&quot;</span></span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>



<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><h4 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h4><p><strong>for 变量 in 值1 值2 值3…</strong>  或  <strong>for((初始值;条件;变化))</strong></p>
<p><strong>do</strong></p>
<p>​	<strong>程序代码</strong></p>
<p><strong>done</strong></p>
<p>例 .&#x2F;myshell 100 200 300 400 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="comment">#打印命令行输入的参数[查看$* 和 $@ 的区别]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#$*是把所有参数当成一个整体</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&quot;$*&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;num is <span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#输出num is 100 200 300 400</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#$@是每个参数区分对待</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;num is <span class="variable">$j</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="comment">#输出</span></span><br><span class="line"><span class="comment">#num is 100</span></span><br><span class="line"><span class="comment">#num is 200</span></span><br><span class="line"><span class="comment">#num is 300</span></span><br><span class="line"><span class="comment">#num is 400</span></span><br><span class="line"><span class="comment">#若是$*和$@没有用&quot;&quot;括起，即for i in $@ 或 $*,则输出都是一样的，都是分别输出</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#输出0-100的和</span></span><br><span class="line"><span class="built_in">sum</span>=0</span><br><span class="line"><span class="keyword">for</span>((i=<span class="number">0</span>;i&lt;=<span class="number">100</span>;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">        <span class="built_in">sum</span>=$[<span class="variable">$sum</span> + <span class="variable">$i</span>]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$sum</span></span><br><span class="line"><span class="comment">#输出5050</span></span><br></pre></td></tr></table></figure>



<h4 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h4><p>&#x3D;&#x3D;while与[]间有空格，[]里面两侧有空格&#x3D;&#x3D;</p>
<p><strong>while [ 条件 ]</strong></p>
<p><strong>do</strong></p>
<p>​	<strong>程序</strong></p>
<p><strong>done</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#计算0-100的和，自增为2</span></span><br><span class="line">SUM=0</span><br><span class="line">i=0</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -lt 100 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">        SUM=$[<span class="variable">$SUM</span> + <span class="variable">$i</span>]</span><br><span class="line">        i=$[<span class="variable">$i</span>+2]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$SUM</span></span><br><span class="line"><span class="comment">#输出2450</span></span><br></pre></td></tr></table></figure>



<h3 id="read读取控制台输入"><a href="#read读取控制台输入" class="headerlink" title="read读取控制台输入"></a>read读取控制台输入</h3><p><strong>read (选项)  (参数)</strong></p>
<p>-p：指定读取值时的提示符</p>
<p>-t：指定读取值是等待的时间(秒),如果没有在指定时间内输入，就不再等待</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#读取控制台输入一个值</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;请输入一个数=&quot;</span> NUM</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你输入的值为<span class="variable">$NUM</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#读取控制台输入的一个值，在10秒内输入</span></span><br><span class="line"><span class="built_in">read</span> -t 10 -p <span class="string">&quot;请输入一个值:&quot;</span> NUM1</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;你输入的值为<span class="variable">$NUM1</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>执行文件时会卡在read那一行等待输入，输入的值会赋值给后面定义的变量。</p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>shell与其他编程语言一样，有系统函数和自定义函数两种</p>
<h4 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h4><p><strong>[ function ] 函数名[()]</strong></p>
<p><strong>{</strong></p>
<p>​	<strong>程序;</strong></p>
<p>​	<strong>[return int;]</strong></p>
<p><strong>}</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">getSum</span></span>() &#123;</span><br><span class="line">        SUM=$[<span class="variable">$n1</span>+<span class="variable">$n2</span>]</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;和为<span class="variable">$SUM</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;请输入n1 &quot;</span> n1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;请输入n2 &quot;</span> n2</span><br><span class="line"></span><br><span class="line"><span class="comment">#调用</span></span><br><span class="line">getSum <span class="variable">$n1</span> <span class="variable">$n2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="shell案例-备份数据库"><a href="#shell案例-备份数据库" class="headerlink" title="shell案例-备份数据库"></a>shell案例-备份数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">需求分析</span><br><span class="line">1.每天凌晨2:30备份数据库mytest到/data/backuo/db</span><br><span class="line">2.备份开始和结束能给出相应提示信息</span><br><span class="line">3.备份后文件要求以备份时间为文件名，并打包成.tar.gz形式，例2010-02-02_230201.tar.gz</span><br><span class="line">4.在备份同时，删除10天前的备份</span><br></pre></td></tr></table></figure>



<p>&#x2F;usr&#x2F;sbin&#x2F;dbackup.sh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#备份目录</span></span><br><span class="line">BACKUP=/data/backup/db</span><br><span class="line"><span class="comment">#当前时间</span></span><br><span class="line">DATETIME=$(<span class="built_in">date</span> +%Y-%m-%d_%H%M%S)</span><br><span class="line"><span class="comment">#数据库地址</span></span><br><span class="line">HOST=localhost</span><br><span class="line"><span class="comment">#用户名</span></span><br><span class="line">DB_USER=ROOT</span><br><span class="line"><span class="comment">#密码</span></span><br><span class="line">DB_PW=123456</span><br><span class="line"><span class="comment">#数据库名</span></span><br><span class="line">DATABASE=mytest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建备份目录,如果目录不存在，就创建</span></span><br><span class="line">[ ! -d <span class="string">&quot;<span class="variable">$BACKIP</span>/<span class="variable">$DATATIME</span>&quot;</span> ] &amp;&amp; <span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$BACKIP</span>/<span class="variable">$DATATIME</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#备份数据库</span></span><br><span class="line">mysqldump -u<span class="variable">$DB_USER</span> -p<span class="variable">$DB_PW</span> --host=<span class="variable">$HOST</span> -q -R --databases <span class="variable">$DATABASE</span> | gzip &gt; <span class="variable">$BACKIP</span>/<span class="variable">$DATATIME</span>/<span class="variable">$DATATIME</span>.sql.gz</span><br><span class="line"></span><br><span class="line"><span class="comment">#打包,将backup下的datetime目录及其下面的备份文件打包</span></span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$BACKUP</span></span><br><span class="line">tar -zcvf <span class="variable">$DATETIME</span>.tar.gz <span class="variable">$DATETIME</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#因为打完包了，所以备份完的目录可以不要了，删除</span></span><br><span class="line"><span class="built_in">rm</span> -rf <span class="variable">$BACKUP</span>/<span class="variable">$DATETIME</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#删除10天前的备份文件</span></span><br><span class="line">find <span class="variable">$BACKUP</span> -atime +10 -name <span class="string">&quot;*.tar.gz&quot;</span> -<span class="built_in">exec</span> <span class="built_in">rm</span> -rf &#123;&#125; \;</span><br><span class="line"></span><br><span class="line"><span class="comment">#提示</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;备份成功&quot;</span> </span><br></pre></td></tr></table></figure>



<p>输入crontab -e，进入任务调度</p>
<p>30 2 * * * &#x2F;usr&#x2F;sbin&#x2F;dbackup.sh (注意输入完后把光标退回去，然后esc +:wq 退出，不然可能有bug)</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="http://example.com">John Doe</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="http://example.com/2022/09/09/Linux%E5%AD%A6%E4%B9%A0/">http://example.com/2022/09/09/Linux%E5%AD%A6%E4%B9%A0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/butterfly-icon.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2022/09/09/mysql%E5%AD%A6%E4%B9%A0/" title="mysql学习"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">mysql学习</div></div><div class="info-2"><div class="info-item-1">常用工具 mysql  语法: mysql [options] [database] -u 用户名 -p 密码 -h 服务器ip -P 端口 -e 执行sql语句并退出 例mysql -uroot -p123456 数据库 -e &quot;selet * from table&quot;      sql执行顺序from-where-group by-having-select-order by-limit 事务并发问题 脏读：事务读到了另一个事务未提交的数据。 不可重复读：事务先后读取同一条记录，但读取的数据不同。 幻读：事务在查询数据时没有记录，但插入数据时又提示记录已经存在。  事务隔离级别 read uncommitted：三个并发问题会出现 read commited：一个事务提交后，另一个事务才会看到提交后的数据，否则看到的是旧数据。解决了脏读，但会出现不可重复读，和幻读。 repeatable...</div></div></div></a><a class="pagination-related" href="/2022/09/09/spring_security/" title="spring_security"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">spring_security</div></div><div class="info-2"><div class="info-item-1">准备JWT工具类12345678910&lt;dependency&gt;    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;    &lt;artifactId&gt;jjwt&lt;/artifactId&gt;    &lt;version&gt;0.9.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;    &lt;groupId&gt;com.auth0&lt;/groupId&gt;    &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;    &lt;version&gt;3.11.0&lt;/version&gt;&lt;/dependency&gt;  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263public class...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/butterfly-icon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">John Doe</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">Linux常用指令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA-%E9%87%8D%E5%90%AF%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.</span> <span class="toc-text">关机&amp;重启命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E4%B8%8E%E9%80%80%E5%87%BA"><span class="toc-number">1.2.</span> <span class="toc-text">用户登录与退出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-number">1.3.</span> <span class="toc-text">用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7"><span class="toc-number">1.3.1.</span> <span class="toc-text">添加用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81"><span class="toc-number">1.3.2.</span> <span class="toc-text">指定&#x2F;修改密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-number">1.3.3.</span> <span class="toc-text">删除用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.4.</span> <span class="toc-text">查询用户信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7"><span class="toc-number">1.3.5.</span> <span class="toc-text">切换用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7"><span class="toc-number">1.3.6.</span> <span class="toc-text">查看当前登录用户</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB"><span class="toc-number">1.4.</span> <span class="toc-text">运行级别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9B%AE%E5%BD%95%E6%8C%87%E4%BB%A4"><span class="toc-number">1.5.</span> <span class="toc-text">用户目录指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E7%B1%BB%E6%8C%87%E4%BB%A4"><span class="toc-number">1.6.</span> <span class="toc-text">日期类指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E6%9F%A5%E6%89%BE%E6%8C%87%E4%BB%A4"><span class="toc-number">1.7.</span> <span class="toc-text">搜索查找指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B%E6%8C%87%E4%BB%A4"><span class="toc-number">1.8.</span> <span class="toc-text">压缩与解压指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%BB%84"><span class="toc-number">1.9.</span> <span class="toc-text">Linux组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84"><span class="toc-number">1.9.1.</span> <span class="toc-text">用户组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rwx%E6%9D%83%E9%99%90"><span class="toc-number">1.10.</span> <span class="toc-text">_rwx权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rwx%E6%9D%83%E9%99%90%E4%BD%9C%E7%94%A8%E5%88%B0%E6%96%87%E4%BB%B6"><span class="toc-number">1.10.1.</span> <span class="toc-text">rwx权限作用到文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rwx%E6%9D%83%E9%99%90%E4%BD%9C%E7%94%A8%E5%88%B0%E7%9B%AE%E5%BD%95"><span class="toc-number">1.10.2.</span> <span class="toc-text">rwx权限作用到目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%9D%83%E9%99%90"><span class="toc-number">1.10.3.</span> <span class="toc-text">修改权限</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#crond%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6"><span class="toc-number">1.11.</span> <span class="toc-text">crond任务调度</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#crond%E6%97%B6%E9%97%B4%E8%A7%84%E5%88%99"><span class="toc-number">1.11.1.</span> <span class="toc-text">crond时间规则</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#at%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6"><span class="toc-number">1.12.</span> <span class="toc-text">at任务调度</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#at%E6%97%B6%E9%97%B4%E5%AE%9A%E4%B9%89"><span class="toc-number">1.12.1.</span> <span class="toc-text">at时间定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E5%88%86%E5%8C%BA"><span class="toc-number">1.13.</span> <span class="toc-text">磁盘分区</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E8%AE%BE%E5%A4%87%E6%8C%82%E8%BD%BD%E6%83%85%E5%86%B5"><span class="toc-number">1.13.1.</span> <span class="toc-text">查看所有设备挂载情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E7%A3%81%E7%9B%98%E5%B9%B6%E5%88%86%E5%8C%BA"><span class="toc-number">1.13.2.</span> <span class="toc-text">增加磁盘并分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%A3%81%E7%9B%98%E6%83%85%E5%86%B5"><span class="toc-number">1.13.3.</span> <span class="toc-text">查看磁盘情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%BB%9F%E8%AE%A1%E5%91%BD%E4%BB%A4"><span class="toc-number">1.13.4.</span> <span class="toc-text">常用统计命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE"><span class="toc-number">1.14.</span> <span class="toc-text">网络配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%87%AA%E5%B7%B1Linux%E4%B8%BA%E6%8C%87%E5%AE%9Aip"><span class="toc-number">1.14.1.</span> <span class="toc-text">修改自己Linux为指定ip</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.15.</span> <span class="toc-text">进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E7%B3%BB%E7%BB%9F%E6%89%A7%E8%A1%8C%E7%9A%84%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.15.1.</span> <span class="toc-text">显示系统执行的进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%88%E6%AD%A2%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.15.2.</span> <span class="toc-text">终止进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E6%A0%91"><span class="toc-number">1.15.3.</span> <span class="toc-text">查看进程树</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AE%A1%E7%90%86"><span class="toc-number">1.16.</span> <span class="toc-text">服务管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#service%E7%AE%A1%E7%90%86%E6%8C%87%E4%BB%A4"><span class="toc-number">1.16.1.</span> <span class="toc-text">service管理指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chkconfig%E6%8C%87%E4%BB%A4"><span class="toc-number">1.16.2.</span> <span class="toc-text">chkconfig指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#systemctl%E6%8C%87%E4%BB%A4"><span class="toc-number">1.16.3.</span> <span class="toc-text">systemctl指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#systemctl%E8%AE%BE%E7%BD%AE%E6%9C%8D%E5%8A%A1%E8%87%AA%E5%90%AF%E5%8A%A8%E7%8A%B6%E6%80%81"><span class="toc-number">1.16.3.1.</span> <span class="toc-text">systemctl设置服务自启动状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%BE%E8%A1%8C%E9%98%B2%E7%81%AB%E5%A2%99%E7%AB%AF%E5%8F%A3"><span class="toc-number">1.16.3.2.</span> <span class="toc-text">放行防火墙端口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%9B%91%E8%A7%86%E8%BF%9B%E7%A8%8B"><span class="toc-number">1.17.</span> <span class="toc-text">动态监视进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E6%8E%A7%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81"><span class="toc-number">1.18.</span> <span class="toc-text">监控网络状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rpm%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">1.19.</span> <span class="toc-text">rpm包管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#rpm%E6%9F%A5%E8%AF%A2%E6%8C%87%E4%BB%A4"><span class="toc-number">1.19.1.</span> <span class="toc-text">rpm查询指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rpm%E5%88%A0%E9%99%A4%E6%8C%87%E4%BB%A4"><span class="toc-number">1.19.2.</span> <span class="toc-text">rpm删除指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rpm%E5%AE%89%E8%A3%85%E6%8C%87%E4%BB%A4"><span class="toc-number">1.19.3.</span> <span class="toc-text">rpm安装指令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#yum%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">1.20.</span> <span class="toc-text">yum包管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85jdk1-8"><span class="toc-number">1.21.</span> <span class="toc-text">安装jdk1.8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85tomcat"><span class="toc-number">1.22.</span> <span class="toc-text">安装tomcat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85mysql5-7"><span class="toc-number">1.23.</span> <span class="toc-text">安装mysql5.7</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E5%8E%8B%E7%BC%A9%E5%8C%85"><span class="toc-number">1.23.1.</span> <span class="toc-text">下载压缩包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%87%AA%E5%B8%A6%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.23.2.</span> <span class="toc-text">删除自带数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85mysql%E9%9C%80%E8%A6%81%E7%9A%84%E5%8C%85"><span class="toc-number">1.23.3.</span> <span class="toc-text">安装mysql需要的包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E8%A1%8Cmysql"><span class="toc-number">1.23.4.</span> <span class="toc-text">运行mysql</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%9B%AE%E5%BD%95%E6%9F%A5%E7%9C%8B"><span class="toc-number">1.23.5.</span> <span class="toc-text">安装目录查看</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEroot%E5%AF%86%E7%A0%81%EF%BC%8C"><span class="toc-number">1.23.6.</span> <span class="toc-text">设置root密码，</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E7%BC%96%E7%A8%8B"><span class="toc-number">1.24.</span> <span class="toc-text">shell编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8F"><span class="toc-number">1.24.1.</span> <span class="toc-text">脚本执行方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">1.24.2.</span> <span class="toc-text">shell的变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%EF%BC%9A"><span class="toc-number">1.24.2.1.</span> <span class="toc-text">系统变量：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">1.24.2.2.</span> <span class="toc-text">自定义变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.24.3.</span> <span class="toc-text">设置环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%8F%98%E9%87%8F"><span class="toc-number">1.24.4.</span> <span class="toc-text">位置参数变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.24.4.1.</span> <span class="toc-text">基本语法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">1.24.5.</span> <span class="toc-text">预定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.24.6.</span> <span class="toc-text">运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">1.24.7.</span> <span class="toc-text">条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.24.7.1.</span> <span class="toc-text">判断条件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6case"><span class="toc-number">1.24.8.</span> <span class="toc-text">流程控制case</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.24.9.</span> <span class="toc-text">循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.24.9.1.</span> <span class="toc-text">for循环</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.24.9.2.</span> <span class="toc-text">while循环</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#read%E8%AF%BB%E5%8F%96%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%85%A5"><span class="toc-number">1.24.10.</span> <span class="toc-text">read读取控制台输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">1.24.11.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">1.24.11.1.</span> <span class="toc-text">自定义函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E6%A1%88%E4%BE%8B-%E5%A4%87%E4%BB%BD%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.24.12.</span> <span class="toc-text">shell案例-备份数据库</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/02/15/springcloud%E5%AD%A6%E4%B9%A0/" title="springcloud笔记">springcloud笔记</a><time datetime="2023-02-15T11:52:38.000Z" title="Created 2023-02-15 19:52:38">2023-02-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/09/27/jsr303%E4%BD%BF%E7%94%A8/" title="jsr303使用">jsr303使用</a><time datetime="2022-09-27T01:26:45.000Z" title="Created 2022-09-27 09:26:45">2022-09-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/09/26/nginx%E4%BB%A3%E7%90%86%E8%B7%AF%E5%BE%84%E9%85%8D%E7%BD%AE%E7%BB%86%E8%8A%82/" title="nginx代理路径配置细节">nginx代理路径配置细节</a><time datetime="2022-09-26T08:09:43.000Z" title="Created 2022-09-26 16:09:43">2022-09-26</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/09/20/log%E6%97%A5%E5%BF%97%E4%BD%BF%E7%94%A8/" title="log日志使用">log日志使用</a><time datetime="2022-09-20T07:19:54.000Z" title="Created 2022-09-20 15:19:54">2022-09-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/09/16/docker%E5%AD%A6%E4%B9%A0/" title="docker学习">docker学习</a><time datetime="2022-09-16T07:33:51.000Z" title="Created 2022-09-16 15:33:51">2022-09-16</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By John Doe</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>